{"version":3,"sources":["webpack:///./src/views/Login.vue?279d","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","label","placeholder","clearable","model","value","callback","$$v","phone","expression","center","smsCode","slot","size","type","on","click","sendSmsCode","_v","_s","countdown","effect","color","large","full-width","smsCodeLogin","staticRenderFns","Loginvue_type_script_lang_js_","components","data","item","isLoading","detailShow","list","loading","finished","error","total","currentRate2","rate","active","tabs","created","_this","localStorage","getItem","axios","get","then","res","$toast","return_url","$route","query","$router","push","path","catch","err","removeItem","methods","_this2","formData","post","clearInterval","startInterval","setInterval","_this3","detail","onLoad","_this4","setTimeout","i","length","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d2086b7.c2f9b3f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"j-m-t-100\"},[_c('div',[_c('van-cell-group',[_c('van-field',{attrs:{\"label\":'手机号',\"placeholder\":'输入手机号',\"clearable\":\"\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_c('van-field',{attrs:{\"center\":\"\",\"clearable\":\"\",\"label\":'验证码',\"placeholder\":'输入验证码'},model:{value:(_vm.smsCode),callback:function ($$v) {_vm.smsCode=$$v},expression:\"smsCode\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.sendSmsCode},slot:\"button\"},[_vm._v(\"\\n                    \"+_vm._s(_vm.countdown > 0 ? _vm.countdown : '获取验证码')+\"\\n                \")])],1)],1),_c('grace-animation',{attrs:{\"effect\":\"zoomInUp\"}},[_c('div',{staticClass:\"j-m-lr-M j-m-tb-M\"},[_c('mu-button',{attrs:{\"color\":\"#9c27b0\",\"large\":\"\",\"full-width\":\"\"},on:{\"click\":_vm.smsCodeLogin}},[_vm._v(\"登录/注册\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"j-m-t-100\">\n\n        <div>\n            <van-cell-group>\n                <van-field v-model=\"phone\" :label=\"'手机号'\" :placeholder=\"'输入手机号'\" clearable>\n                </van-field>\n                <van-field center clearable v-model=\"smsCode\" :label=\"'验证码'\" :placeholder=\"'输入验证码'\">\n                    <van-button slot=\"button\" size=\"small\" type=\"primary\" @click=\"sendSmsCode\">\n                        {{ countdown > 0 ? countdown : '获取验证码' }}\n                    </van-button>\n                </van-field>\n            </van-cell-group>\n\n            <grace-animation effect=\"zoomInUp\">\n                <div class=\"j-m-lr-M j-m-tb-M\">\n                    <mu-button color=\"#9c27b0\" @click=\"smsCodeLogin\" large full-width>登录/注册</mu-button>\n                </div>\n            </grace-animation>\n\n        </div>\n\n    </div>\n</template>\n\n<script>\n\n  export default {\n    components: {},\n    data() {\n      return {\n\n        // 多久后可以重发\n        countdown: 0,\n\n        phone: null,\n        smsCode: null,\n\n        item: '',\n\n        isLoading: false,\n\n        detailShow: false,\n\n        list: [],\n        loading: false,\n        finished: false,\n        error: false,\n\n        total: 5, // 总需人数\n        currentRate2: 0,\n        rate: 100, // 当前人数\n\n        active: 2,\n        tabs: ['最新', '收益高', '投入小', '可上车']\n      }\n    },\n    created() {\n\n      if (localStorage.getItem(\"token\")) {\n        this.axios.get('/api/refreshToken')\n          .then((res) => {\n\n            // 刷新成功\n            this.$toast('自动登录成功!');\n            let return_url = this.$route.query.return_url ? this.$route.query.return_url : '/'\n            this.$router.push({path: return_url})\n          })\n          .catch((err) => {\n            localStorage.removeItem(\"token\")\n          })\n      }\n    },\n    methods: {\n\n      sendSmsCode() {\n        let formData = {phone: this.phone,}\n        this.axios.post('/api/smsCode', formData)\n          .then((res) => {\n            this.$toast('短信验证码发送成功, 请查收!');\n\n            this.countdown = res.data.countdown\n            clearInterval(this.startInterval)\n            this.startInterval = setInterval(() => {\n              this.countdown--\n              if (this.countdown === 0) clearInterval(this.startInterval)\n            }, 1000)\n          })\n      },\n      smsCodeLogin() {\n        let formData = {phone: this.phone, smsCode: this.smsCode}\n        this.axios.post('/api/smsCodeLogin', formData)\n          .then((res) => {\n            this.$toast('登录成功,欢迎回来');\n            let return_url = this.$route.query.return_url ? this.$route.query.return_url : '/'\n            this.$router.push({path: return_url})\n          })\n      },\n      detail() {\n        this.detailShow = !this.detailShow\n      },\n      onLoad() {\n        // 异步更新数据\n        setTimeout(() => {\n          for (let i = 0; i < 10; i++) {\n            this.list.push(this.list.length + 1);\n          }\n          // 加载状态结束\n          this.loading = false;\n\n          // 数据全部加载完成\n          if (this.list.length >= 40) {\n            this.finished = true;\n          }\n        }, 500);\n      },\n    },\n  }\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=02a9a254&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}